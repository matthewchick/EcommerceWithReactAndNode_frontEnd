{"version":3,"sources":["config.js","auth/Auth.js","core/NavMenu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/apiCore.js","core/Card.js","core/Home.js","auth/PrivateRoute.js","auth/AdminRoute.js","user/UserDashboard.js","user/AdminDashboard.js","admin/AddCategory.js","admin/apiAdmin.js","admin/AddProduct.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","isActive","history","path","location","pathname","color","withRouter","className","style","to","user","role","cursor","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Layout","title","description","children","Signup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","headers","Accept","body","stringify","json","data","display","onChange","type","Signin","loading","redirectToReferrer","signin","setItem","authenticate","redirectUser","getProducts","sortBy","Card","product","price","Home","productBySell","setProductsBySell","productByArrival","setProductsByArrival","setError","loadProductBySell","useCallback","products","loadProductByArrival","useEffect","map","i","key","PrivateRoute","Component","component","rest","render","props","state","from","AdminRoute","Dashboard","_id","AdminDashboard","AddCategory","setName","setSuccess","token","e","userId","category","Authorization","createCategory","showSuccess","showError","onSubmit","autoFocus","required","AddProduct","categories","shipping","quantity","photo","createdProduct","redirectToProfile","formData","init","FormData","files","set","createProduct","accept","c","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b1433813.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;\n","\nimport { API } from '../config';\n\nexport const isAuthenticated = () => {\n    \n    if (typeof window == 'undefined') {\n        return false;\n    }\n    if (localStorage.getItem(\"jwt\")) {\n        // console.log('User', JSON.parse(localStorage.getItem(\"jwt\")));\n        return JSON.parse(localStorage.getItem(\"jwt\"));  //contain user information\n    } else {\n        return false;\n    }\n};\n\n// here next is callback function\nexport const authenticate = (data, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(data));\n        next();\n    }\n};\n\n// use next callback function to redirect to another page\nexport const signout = (next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch(`${API}/signout`, {\n            method: \"GET\"\n        })\n        .then(response => {\n            console.log('signout', response);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n}\n\nexport const signin = (user) => {\n    // console.log(user.email, user.password);\n    // use return before fetch otherwise TypeError: Cannot read property 'then' of undefined\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: 'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n};\n\nexport const signup = (user) => {\n    // console.log(user.name, user.email, user.password);\n    // use return before fetch otherwise TypeError: Cannot read property 'then' of undefined\n    return fetch(`${API}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: 'application/json',\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n};\n","import React, { Fragment } from 'react';    //Fragment is used to fix <div></div>\n/**\n * withRouter is a higher order component that will pass closest route's match, \n * current location, and history props to the wrapped component whenever it renders. \n * simply it connects component to the router.\n * Use Link, not necessary to reload index.html when link to other pages\n */\nimport { Link, withRouter } from 'react-router-dom';\nimport { signout, isAuthenticated } from '../auth/Auth';\n\nconst isActive = (history, path) => { \n    if (history.location.pathname === path) {\n        return {color: '#ff9900'};\n    } else {\n        return {color: '#ffffff'};\n    }\n}\n\n/**\n * const Menu=(props) => ()\n * <Link className=\"nav-link\" style={isActive(props.history, '/')} to=\"/\">\n */\n\nconst Menu = ({history}) => (    \n    <div>\n        <ul className=\"nav nav-tabs bg-primary\">\n              \n            <li className=\"nav-item\">               \n                <Link className=\"nav-link\" style={isActive(history, '/')} to=\"/\">  \n                    Home\n                </Link>\n            </li>\n\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                <li className=\"nav-item\">               \n                    <Link className=\"nav-link\" style={isActive(history, '/users/dashboard')} to=\"/users/dashboard\">  \n                        Dashboard\n                    </Link>\n                </li>\n            )}\n        \n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                <li className=\"nav-item\">               \n                    <Link className=\"nav-link\" style={isActive(history, '/admin/dashboard')} to=\"/admin/dashboard\">  \n                        Dashboard\n                    </Link>\n                </li>\n            )}\n        \n            {!isAuthenticated() && (\n                <Fragment>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signin')} to=\"/signin\">\n                            SignIn\n                        </Link>\n                    </li>\n                    <li className=\"nav-item\">\n                        <Link className=\"nav-link\" style={isActive(history, '/signup')} to=\"/signup\">\n                            SignUp\n                        </Link>\n                    </li>\n                </Fragment>\n            )}\n            {isAuthenticated() && (\n                <li className=\"nav-item\">\n                    <span \n                        className=\"nav-link\" \n                        style={{cursor: 'pointer', color: '#ffffff'}} \n                        onClick={()=> \n                            signout(() => {\n                                history.push('/');\n                            })\n                        }\n                    >\n                        SignOut\n                    </span>\n                </li>\n            ) }         \n        </ul>\n    </div>\n);\n\nexport default withRouter(Menu);","//Layout Component\nimport React from 'react';\nimport Menu from './NavMenu';\n\n/**\n * put title, description, className and children in the props\n * The lead class in Bootstrap is used to add emphasis to a paragraph.\n * children is children.props\n */\nconst Layout = ({ title = 'Title', description = \"Description\", className, children }) => (\n    <div>\n        <Menu />\n        <div className=\"jumbotron\">\n            <h2>{title}</h2>\n            <p className=\"lead\">{description}</p>\n        </div>\n        <div className={className}>{children}</div>\n    </div> \n);\n\nexport default Layout;","//Signup Component\nimport React, { useState } from 'react';    //use react hook\nimport {Link} from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport {signup} from '../auth/Auth';\n\nconst Signup = () => {\n\n    // javascript functions\n    // create a state\n    const [values, setValues] = useState({\n        name: '',\n        email: '',\n        password: '',\n        error: '',\n        success: false\n    });\n\n    const {name, email, password, error, success} = values;   //object destructing\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value})\n    }\n\n    const clickSubmit = (event) => {\n        event.preventDefault();\n        setValues({...values, error: false});\n        signup({name, email, password})\n        .then(data => {\n            if(data.error) {\n                console.log(data.error);\n                setValues({...values, error: data.error, success: false})\n            } else {\n                setValues({\n                    ...values,\n                    name: '',\n                    email: '',\n                    password: '',\n                    error: '',\n                    success: true\n                })\n            }\n        })\n    }\n    // component functions\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{display: success ? '' : 'none'}}>\n            New account is created. Please <Link to=\"/signin\">Sign in</Link>\n        </div>\n    );\n\n    // pass title, description and className into props to Layout \n    return (\n        <Layout \n            title=\"SignUp\" \n            description=\"Signup to Node React E-Commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n            >\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n        </Layout>\n    )\n};\n\nexport default Signup;\n","//Signin Component\nimport React, { useState } from 'react';    //use react hook\nimport { Redirect } from 'react-router-dom';\nimport Layout from '../core/Layout';\nimport { signin, authenticate, isAuthenticated } from '../auth/Auth';\n\nconst Signin = () => {\n\n    // javascript functions\n    // create a state\n    const [values, setValues] = useState({\n        email: 'chikmatthew@gmail.com',\n        password: 'password',\n        error: '',\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const {email, password, error, loading, redirectToReferrer} = values;   //object destructing\n    const {user} = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]: event.target.value})   //update State\n    }\n\n    const clickSubmit = (event) => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });   //update info to values object with 'error' and 'loading'\n        signin({email, password})    //from Auth.js\n        .then(data => {\n            if(data.error) {\n                console.log(data.error);\n                setValues({...values, error: data.error, loading: false})\n            } else {\n                authenticate(data, () => {   \n                    setValues({\n                        ...values,               \n                        redirectToReferrer: true\n                    });\n                });\n            }\n        });\n    };\n    // component functions\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input onChange={handleChange('email')} type=\"email\" className=\"form-control\" value={email}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password}/>\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n            {error}\n        </div>\n    );\n\n    const showLoading = () => (\n        loading && <div className=\"alert alert-info\">\n           <h2>Loading ...</h2>\n        </div>\n    );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                return <Redirect to=\"/admin/dashboard\" />  // redirect to Admin dashboard\n            }  else {\n                return <Redirect to=\"/users/dashboard\" />  // redirect to users dashboard  \n            } \n            /* if (isAuthenticated()){\n                return <Redirect to=\"/\" />\n            } */\n        }\n    }\n\n    // pass title, description and className into props to Layout \n    return (\n        <Layout \n            title=\"SignIn\" \n            description=\"Sign in to Node React E-Commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n            >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    )\n};\n\nexport default Signin;\n","import { API } from '../config';\n\nexport const getProducts = (sortBy) => {\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        //console.log('Categories', response.json());\n        return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n","import React from 'react';   \nimport { Link } from 'react-router-dom';\n\nconst Card = ({product}) => {\n    return (\n        <div className=\"col-4  mb-3\">\n            <div className=\"card\">\n                <div className=\"card-header\">{product.name}</div>\n                <div className=\"card-body\">\n                    <p>{product.description}</p>\n                    <p>{product.price}</p>\n                    <Link to =\"/\">\n                        <button className=\"btn btn-outline-primary nt-2 mb-2\">\n                            View Product\n                        </button>\n                    </Link>\n                    <button className=\"btn btn-outline-warning nt-2 mb-2\">\n                            Add to Cart\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Card;","//Home Component\nimport React, {useState, useEffect, useCallback} from 'react';\nimport Layout from './Layout';\nimport {getProducts} from './apiCore';\nimport Card from './Card';\n\nconst Home = () => {\n    \n    const [productBySell, setProductsBySell] = useState([])\n    const [productByArrival, setProductsByArrival] = useState([])\n    const [error, setError] = useState(false)\n    \n    const loadProductBySell = useCallback(() => {\n        getProducts('sold').then(data => {\n            if (data.error) {\n                setError(data.error)\n            } else {\n                setProductsBySell(data.products)\n            }\n        })\n    },[setError, setProductsBySell]);\n    \n    const loadProductByArrival = useCallback(() => {\n        getProducts('createdAt').then(data => {\n            if (data.error) {\n                setError(data.error)\n            } else {\n                setProductsByArrival(data.products)  //data is an object, map works with array\n            }\n        })\n    },[setError, setProductsByArrival])\n\n    useEffect(() => {\n        loadProductByArrival();\n        loadProductBySell();\n    }, [loadProductByArrival], [loadProductBySell]);\n\n    return (\n        <Layout title=\"Home Page\" description=\"Node React E-commerce App\" className=\"container-fluid\">\n            <h2 className=\"mb-4\">New Arrivals</h2>\n            <div className=\"row\">\n                {productByArrival.map((product, i)=>(\n                    <Card key={i} product={product} />\n                ))}\n            </div>\n            \n            <h2 className=\"mb-4\">Best Sellers</h2>\n            <div className=\"row\">\n                {productBySell.map((product, i)=>(\n                    <Card key={i} product={product} />\n                ))}\n            </div>\n        </Layout>\n    );\n};\n\n\nexport default Home;","import React from 'react';    \nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} \n        render={props => isAuthenticated() ? (\n            <Component {...props} />\n        ) : (\n            <Redirect\n                to={{\n                    pathname: \"/signin\",\n                    state: { from: props.location}\n                }}\n            />\n            )\n        } \n    />\n);\n\nexport default PrivateRoute;\n","import React from 'react';    \nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\n\nconst AdminRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} \n        render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\n            <Component {...props} />\n        ) : (\n            <Redirect\n                to={{\n                    pathname: \"/signin\",\n                    state: { from: props.location}\n                }}\n            />\n            )\n        } \n    />\n);\n\nexport default AdminRoute;\n","import React from 'react';\nimport Layout from '../core/Layout';\nimport {Link, Redirect} from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\n\nconst Dashboard = () => {\n    const {user: {_id, name, email, role}} = isAuthenticated();\n\n    //To prevent from typing localhost:3000/users/dashboard\n    if (role === 1) {\n        return <Redirect to=\"/admin/dashboard\" />\n    }\n    const userLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to= \"/cart\">My Cart</Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to= \"/profile/update\">Update Profile</Link>\n                    </li>                   \n                </ul> \n            </div>\n        )\n    }\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n            <h3 className=\"card-header\">User Information</h3>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">{name}</li>\n                <li className=\"list-group-item\">{email}</li>\n                <li className=\"list-group-item\">{role === 1 ? 'Admin' : \"Registered User\"}</li>\n            </ul> \n        </div>  \n        )\n    }\n    const purchaseHistory = () => {\n        return (\n            <div className=\"card mb-5\">\n            <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">history</li>                   \n                </ul>           \n            </div> \n        )\n    }\n    return (\n        <Layout title=\"Dashboard\" description={`G'day ${name}!`} className=\"container-fluid\">   \n            <div className=\"row\">\n                <div className=\"col-3\">\n                    {userLinks()}\n                </div>\n                <div className=\"col-9\">\n                    {userInfo()}\n                    {purchaseHistory()}\n                </div>         \n            </div>   \n        </Layout>\n    );\n};\nexport default Dashboard;\n","import React from 'react';\nimport Layout from '../core/Layout';\nimport {Link} from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\n\nconst AdminDashboard = () => {\n    const {user: {_id, name, email, role}} = isAuthenticated();\n    const AdminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to= \"/create/category\">Create Category</Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to= \"/create/product\">Create Product</Link>\n                    </li>                   \n                </ul> \n            </div>\n        )\n    }\n    const AdminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n            <h3 className=\"card-header\">User Information</h3>\n            <ul className=\"list-group\">\n                <li className=\"list-group-item\">{name}</li>\n                <li className=\"list-group-item\">{email}</li>\n                <li className=\"list-group-item\">{role === 1 ? 'Admin' : \"Registered User\"}</li>\n            </ul> \n        </div>  \n        )\n    }\n    \n    return (\n        <Layout title=\"Dashboard\" description={`G'day ${name}!`} className=\"container-fluid\">   \n            <div className=\"row\">\n                <div className=\"col-3\">\n                    {AdminLinks()}\n                </div>\n                <div className=\"col-9\">\n                    {AdminInfo()}\n                </div>         \n            </div>   \n        </Layout>\n    );\n};\n\nexport default AdminDashboard;\n","import React, {useState} from 'react';\nimport Layout from '../core/Layout';\nimport { Link } from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\nimport { createCategory } from './apiAdmin';\n\nconst AddCategory = () => {\n    const [name, setName] = useState('')\n    const [error, setError] = useState(false)\n    const [success, setSuccess] = useState(false)\n\n    // destruct user and token from localstorage\n    const {user, token} = isAuthenticated()\n\n    // javascript functions \n    const showSuccess = () => {\n        if (success) {\n            return <h3 className=\"text-success\">{name} is created</h3>\n        }\n    }\n\n    const showError = () => {\n        if (error) {\n            return <h3 className=\"text-danger\">{name} has already existed</h3>\n        }\n    }\n\n    const handleChange = (e) => {\n        setError('');\n        setName(e.target.value);\n    };\n\n    const clickSubmit = (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess(false);\n        // make request to api to create category\n        createCategory(user._id, token, {name})\n        .then(data => {\n            if (data.error) {\n                setError(true);\n            }\n            else {\n                setError(\"\");\n                setSuccess(true);\n            }\n        });\n    };\n    // component function\n    const newCategoryForm = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input type=\"text\" className=\"form-control\" \n                    onChange={handleChange} \n                    value={name}\n                    autoFocus \n                    required />\n            </div>\n            <button className=\"btn btn-outline-primary\">\n                Create Category\n            </button>           \n        </form>\n    )\n    \n    const goBack = () => (\n        <div className=\"mt-5\">\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">Back to Dashboard</Link>\n        </div>\n    )\n    \n    return (\n        <Layout title=\"Add a new category\" description={`G'day ${user.name}!`} >   \n            <div className=\"row\">      \n                <div className=\"col-md-8 offset-md-2\">\n                    {showSuccess()}\n                    {showError()}\n                    {newCategoryForm()}\n                    {goBack()}\n                </div>         \n            </div>   \n        </Layout>\n    );\n};\n\nexport default AddCategory;","import { API } from '../config';\n\n\nexport const createCategory = (userId, token, category) => {\n    // console.log(user.name, user.email, user.password);\n    // use return before fetch otherwise TypeError: Cannot read property 'then' of undefined\n    return fetch(`${API}/category/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: 'application/json',\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n};\n\nexport const createProduct = (userId, token, product) => {\n    // console.log(user.name, user.email, user.password);\n    // use return before fetch otherwise TypeError: Cannot read property 'then' of undefined\n    return fetch(`${API}/product/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product    //post form data of product\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    })\n};\n\nexport const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        //console.log('Categories', response.json());\n        return response.json();\n    })\n    .catch(err => {\n        console.log(err);\n    });\n};","import React, { useState, useEffect, useCallback } from 'react';\nimport Layout from '../core/Layout';\nimport { Link } from 'react-router-dom';\nimport { isAuthenticated } from '../auth/Auth';\nimport { createProduct, getCategories } from './apiAdmin';\n\nconst AddProduct = () => {\n\n    // destruct user and token from localstorage\n    const {user, token} = isAuthenticated();\n    const [values, setValues] = useState({\n        name: '',\n        description: '',\n        price: '',\n        categories: [],\n        category: '',\n        shipping: '',\n        quantity: '',\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        redirectToProfile: false,\n        formData: ''\n\n    })\n\n    const { name, description, price, categories, category, shipping, quantity, photo,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n    \n    // load categories and set form data\n    const init = useCallback(() => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({...values, error: data.error})\n            } else {\n                //console.log('data', {data});\n                setValues({...values, categories: data.category, formData: new FormData()})              \n            }\n        });\n    },[values]);\n    \n    useEffect(() => {\n        init();\n    }, [init]);\n\n    // It is a high order function\n    const handleChange = name => event => {\n        const value = name === 'photo' ? event.target.files[0] : event.target.value\n        formData.set(name, value)\n        setValues({...values, [name]: value})\n        console.log('values after submitted', {...values})\n    }\n\n    const clickSubmit = event => {\n        event.preventDefault()\n        setValues({ ...values, error: \"\", loading: true });\n        createProduct(user._id, token, formData)\n        .then(data => {\n            if (data.error) {\n                setValues({...values, error: data.error})\n            } else {\n                // reset the form\n                setValues({...values, name: \"\", description: \"\", photo: \"\", price: \"\", quantity: \"\", loading: false, createdProduct: data.name })\n            }\n        })\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\n                </label>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} />          \n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea onChange={handleChange('description')} type=\"text\" className=\"form-control\" value={description} />          \n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} />          \n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select onChange={handleChange('shipping')} className=\"form-control\" > \n                <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>         \n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select onChange={handleChange('category')} className=\"form-control\" > \n                <option>Please select</option>\n                {categories && categories.map((c, i) => (<option key={i} value={c._id}>{c.name}</option>))}\n                </select>         \n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input onChange={handleChange('quantity')} type=\"number\" className=\"form-control\" value={quantity} />          \n            </div>\n            <button className=\"btn btn-outline-primary\">\n                Create Product\n            </button>           \n        </form>\n    );\n\n    // component functions - if use {} has no-unused-expression\n    const showError = () => (\n       <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n            {error}\n       </div>\n    )\n\n    const showSuccess = () => (\n        <div className=\"alert alert-info\" style={{display: createdProduct ? '' : 'none'}}>\n             <h2>{`${createdProduct}`} is created!</h2>\n        </div>\n    )\n\n    const showLoading = () => (\n        loading && (<div className=\"alert alert-success\"><h2>Loading...</h2></div>)\n    )\n\n    return (\n        <Layout title=\"Add a new product\" description={`G'day ${user.name}!`} >   \n            <div className=\"row\">      \n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()} \n                </div>         \n            </div>   \n        </Layout>\n    );\n}\n\nexport default AddProduct;","// Routes component\nimport React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Signup from './user/Signup';\nimport Signin from './user/Signin';\nimport Home from './core/Home';\nimport PrivateRoute from './auth/PrivateRoute';\nimport AdminRoute from './auth/AdminRoute';\nimport Dashboard from './user/UserDashboard';\nimport AdminDashboard from './user/AdminDashboard';\nimport AddCategory from './admin/AddCategory';\nimport AddProduct from './admin/AddProduct';\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={Home}/>\n                <Route path=\"/signin\" exact component={Signin}/>\n                <Route path=\"/signup\" exact component={Signup}/>\n                <PrivateRoute \n                    path=\"/users/dashboard\" \n                    exact \n                    component={Dashboard}/>\n                <AdminRoute \n                    path=\"/admin/dashboard\" \n                    exact \n                    component={AdminDashboard}/>\n                <AdminRoute \n                    path=\"/create/category\" \n                    exact \n                    component={AddCategory}/>\n                <AdminRoute \n                    path=\"/create/product\" \n                    exact \n                    component={AddProduct}/>\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './Routes';  //Call the component, Routes.js \n\nReactDOM.render(<Routes />, document.getElementById('root'));\n\n/*\nimport App from './App';\nReactDOM.render(<App />, document.getElementById('root'));\n*/\n\n"],"sourceRoot":""}